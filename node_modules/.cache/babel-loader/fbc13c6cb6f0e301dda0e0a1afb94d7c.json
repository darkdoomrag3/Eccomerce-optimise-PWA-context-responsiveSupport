{"ast":null,"code":"var _jsxFileName = \"D:\\\\React full stack + redux + context api\\\\Website\\\\ecowebsite\\\\src\\\\App.js\";\nimport React, { useState, useEffect, lazy, Suspense } from 'react';\nimport './App.css';\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Header from './Components/Header/Header';\nimport { auth, createUserProfileDocument } from './firebase.utils';\nimport CheackOut from './Components/CheckOut/CheackOut';\nimport Test from './Components/Test/Test';\nimport UserContext from './contexts/users/users.context';\nimport { GlobalStyle } from './GlobalStyle';\nimport WithSpinner from './Components/WithSpinner/WithSpinner';\nimport ErrorBundry from './Error-boundry/Error-boundry';\nconst Homepage = lazy(() => import('./Pages/Homepage/Homepage'));\nconst ShopPage = lazy(() => import('./Pages/ShopPage/ShopPage'));\nconst CheckoutPage = lazy(() => import('./Pages/ChekOut/CheckoutPage'));\nconst SignInAndSignUp = lazy(() => import('./Pages/SignInAndSignUp/SignInAndSignUp'));\n\nconst App = ({}) => {\n  const [unsubscribeFromAuth, setunsubscribeFromAuth] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  useEffect(() => {\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          setCurrentUser({\n            currentUser: {\n              id: snapShot.id,\n              ...snapShot.data()\n            }\n          });\n        });\n        setCurrentUser(userAuth);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GlobalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ErrorBundry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }\n    }, \"...loading\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Homepage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/checkout\",\n    component: CheckoutPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 44\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 68\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default App; ////// 21 3","map":{"version":3,"sources":["D:/React full stack + redux + context api/Website/ecowebsite/src/App.js"],"names":["React","useState","useEffect","lazy","Suspense","Switch","Route","Redirect","Header","auth","createUserProfileDocument","CheackOut","Test","UserContext","GlobalStyle","WithSpinner","ErrorBundry","Homepage","ShopPage","CheckoutPage","SignInAndSignUp","App","unsubscribeFromAuth","setunsubscribeFromAuth","currentUser","setCurrentUser","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","id","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, lazy, Suspense } from 'react';\nimport './App.css';\n\nimport {\n  Switch,\n  Route,\n  Redirect\n\n} from \"react-router-dom\";\n\nimport Header from './Components/Header/Header';\n\nimport { auth, createUserProfileDocument } from './firebase.utils';\n\nimport CheackOut from './Components/CheckOut/CheackOut';\nimport Test from './Components/Test/Test';\nimport UserContext from './contexts/users/users.context';\n\nimport { GlobalStyle } from './GlobalStyle';\nimport WithSpinner from './Components/WithSpinner/WithSpinner';\nimport ErrorBundry from './Error-boundry/Error-boundry';\n\nconst Homepage = lazy(() => import('./Pages/Homepage/Homepage'))\nconst ShopPage = lazy(() => import('./Pages/ShopPage/ShopPage'))\nconst CheckoutPage = lazy(() => import('./Pages/ChekOut/CheckoutPage'))\nconst SignInAndSignUp = lazy(() => import('./Pages/SignInAndSignUp/SignInAndSignUp'))\n\nconst App = ({ }) => {\n\n  const [unsubscribeFromAuth, setunsubscribeFromAuth] = useState(null)\n  const [currentUser, setCurrentUser] = useState(null)\n\n\n  useEffect(() => {\n\n\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth)\n        userRef.onSnapshot(snapShot => {\n\n          setCurrentUser({\n            currentUser: {\n\n              id: snapShot.id,\n              ...snapShot.data()\n\n            }\n          })\n        })\n        setCurrentUser(userAuth)\n      }\n    })\n  }\n    , [])\n\n\n\n\n  return (\n\n    <>\n      <GlobalStyle />\n      <UserContext.Provider value={currentUser}>\n        <Header />\n\n      </UserContext.Provider>\n      <ErrorBundry>\n\n        <Switch>\n\n          <Suspense fallback={<div>...loading</div>}>\n            <Route exact path='/' component={Homepage} />\n            <Route path='/shop' component={ShopPage} />\n            <Route path='/checkout' component={CheckoutPage} />\n\n            <Route path='/signin'\n              render={() => currentUser ? (<Redirect to='/' />) : (<SignInAndSignUp />)} />\n\n          </Suspense>\n        </Switch>\n\n      </ErrorBundry>\n\n    </>\n  );\n\n\n}\n\n\n\n\nexport default App;\n\n\n\n////// 21 3 \n"]},"metadata":{},"sourceType":"module"}