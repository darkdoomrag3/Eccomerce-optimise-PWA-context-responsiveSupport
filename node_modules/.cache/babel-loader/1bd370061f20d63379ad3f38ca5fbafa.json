{"ast":null,"code":"var _jsxFileName = \"D:\\\\React full stack + redux + context api\\\\Website\\\\ecowebsite\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Homepage from './Pages/Homepage/Homepage';\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport ShopPage from './Pages/ShopPage/ShopPage';\nimport Header from './Components/Header/Header';\nimport SignInAndSignUp from './Pages/SignInAndSignUp/SignInAndSignUp';\nimport { auth, createUserProfileDocument } from './firebase.utils';\nimport { connect } from 'react-redux';\nimport { setCurrentUser } from './redux/user/user.action';\nimport CheackOut from './Components/CheckOut/CheackOut';\nimport Test from './Components/Test/Test';\n\nconst App = ({\n  currentUser,\n  setCurrentUser\n}) => {\n  const [unsubscribeFromAuth, setunsubscribeFromAuth] = useState(null);\n  useEffect(() => {\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data()\n          });\n        });\n        setCurrentUser(userAuth);\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Homepage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/checkout\",\n    component: CheackOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/test\",\n    component: Test,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 40\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 64\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst mapStateToProps = ({\n  user\n}) => ({\n  currentUser: user.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App); ////// 21 3","map":{"version":3,"sources":["D:/React full stack + redux + context api/Website/ecowebsite/src/App.js"],"names":["React","useState","useEffect","Homepage","Switch","Route","Redirect","ShopPage","Header","SignInAndSignUp","auth","createUserProfileDocument","connect","setCurrentUser","CheackOut","Test","App","currentUser","unsubscribeFromAuth","setunsubscribeFromAuth","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","id","data","mapStateToProps","user","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Homepage from './Pages/Homepage/Homepage';\nimport {\n  Switch,\n  Route,\n  Redirect\n\n} from \"react-router-dom\";\nimport ShopPage from './Pages/ShopPage/ShopPage';\nimport Header from './Components/Header/Header';\nimport SignInAndSignUp from './Pages/SignInAndSignUp/SignInAndSignUp';\nimport { auth, createUserProfileDocument } from './firebase.utils';\nimport { connect } from 'react-redux';\n\nimport { setCurrentUser } from './redux/user/user.action';\nimport CheackOut from './Components/CheckOut/CheackOut';\nimport Test from './Components/Test/Test';\n\nconst App = ({ currentUser, setCurrentUser }) => {\n\n  const [unsubscribeFromAuth, setunsubscribeFromAuth] = useState(null)\n\n\n\n  useEffect(() => {\n\n\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth)\n        userRef.onSnapshot(snapShot => {\n\n          setCurrentUser({\n\n            id: snapShot.id,\n            ...snapShot.data()\n\n          })\n        })\n        setCurrentUser(userAuth)\n      }\n    })\n  }\n  )\n\n\n\n\n  return (\n\n    <>\n      <Header />\n      <Switch>\n        <Route exact path='/' component={Homepage} />\n        <Route path='/shop' component={ShopPage} />\n        <Route path='/checkout' component={CheackOut} />\n        <Route path='/test' component={Test} />\n        <Route path='/signin'\n          render={() => currentUser ? (<Redirect to='/' />) : (<SignInAndSignUp />)} />\n      </Switch>\n\n\n\n    </>\n  );\n\n\n}\n\nconst mapStateToProps = ({ user }) => ({\n  currentUser: user.currentUser\n\n})\n\nconst mapDispatchToProps = dispatch => ({\n\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\n\n\n////// 21 3 \n"]},"metadata":{},"sourceType":"module"}